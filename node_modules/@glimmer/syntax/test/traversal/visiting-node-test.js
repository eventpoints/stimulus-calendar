'use strict';

var _syntax = require('@glimmer/syntax');

const { test } = QUnit;
function traversalEqual(node, expectedTraversal) {
    let actualTraversal = [];
    (0, _syntax.traverse)(node, {
        All: {
            enter(node) {
                actualTraversal.push(['enter', node]);
            },
            exit(node) {
                actualTraversal.push(['exit', node]);
            }
        }
    });
    QUnit.assert.deepEqual(actualTraversal.map(a => `${a[0]} ${a[1].type}`), expectedTraversal.map(a => `${a[0]} ${a[1].type}`));
    let nodesEqual = true;
    for (let i = 0; i < actualTraversal.length; i++) {
        if (actualTraversal[i][1] !== expectedTraversal[i][1]) {
            nodesEqual = false;
            break;
        }
    }
    QUnit.assert.ok(nodesEqual, 'Actual nodes match expected nodes');
}
QUnit.module('[glimmer-syntax] Traversal - visiting');
test('Elements and attributes', function () {
    let ast = (0, _syntax.preprocess)(`<div id="id" class="large {{classes}}" value={{value}}><b></b><b></b></div>`);
    let el = ast.body[0];
    let concat = el.attributes[1].value;
    let concatMustache = concat.parts[1];
    let attrMustache = el.attributes[2].value;
    traversalEqual(ast, [['enter', ast], ['enter', el], ['enter', el.attributes[0]], ['enter', el.attributes[0].value], ['exit', el.attributes[0].value], ['exit', el.attributes[0]], ['enter', el.attributes[1]], ['enter', concat], ['enter', concat.parts[0]], ['exit', concat.parts[0]], ['enter', concatMustache], ['enter', concatMustache.path], ['exit', concatMustache.path], ['enter', concatMustache.hash], ['exit', concatMustache.hash], ['exit', concatMustache], ['exit', concat], ['exit', el.attributes[1]], ['enter', el.attributes[2]], ['enter', attrMustache], ['enter', attrMustache.path], ['exit', attrMustache.path], ['enter', attrMustache.hash], ['exit', attrMustache.hash], ['exit', attrMustache], ['exit', el.attributes[2]], ['enter', el.children[0]], ['exit', el.children[0]], ['enter', el.children[1]], ['exit', el.children[1]], ['exit', el], ['exit', ast]]);
});
test('Element modifiers', function () {
    let ast = (0, _syntax.preprocess)(`<div {{modifier}}{{modifier param1 param2 key1=value key2=value}}></div>`);
    let el = ast.body[0];
    traversalEqual(ast, [['enter', ast], ['enter', el], ['enter', el.modifiers[0]], ['enter', el.modifiers[0].path], ['exit', el.modifiers[0].path], ['enter', el.modifiers[0].hash], ['exit', el.modifiers[0].hash], ['exit', el.modifiers[0]], ['enter', el.modifiers[1]], ['enter', el.modifiers[1].path], ['exit', el.modifiers[1].path], ['enter', el.modifiers[1].params[0]], ['exit', el.modifiers[1].params[0]], ['enter', el.modifiers[1].params[1]], ['exit', el.modifiers[1].params[1]], ['enter', el.modifiers[1].hash], ['enter', el.modifiers[1].hash.pairs[0]], ['enter', el.modifiers[1].hash.pairs[0].value], ['exit', el.modifiers[1].hash.pairs[0].value], ['exit', el.modifiers[1].hash.pairs[0]], ['enter', el.modifiers[1].hash.pairs[1]], ['enter', el.modifiers[1].hash.pairs[1].value], ['exit', el.modifiers[1].hash.pairs[1].value], ['exit', el.modifiers[1].hash.pairs[1]], ['exit', el.modifiers[1].hash], ['exit', el.modifiers[1]], ['exit', el], ['exit', ast]]);
});
test('Blocks', function () {
    let ast = (0, _syntax.preprocess)(`{{#block}}{{/block}}` + `{{#block param1 param2 key1=value key2=value}}<b></b><b></b>{{/block}}`);
    let block1 = ast.body[0];
    let block2 = ast.body[1];
    traversalEqual(ast, [['enter', ast], ['enter', block1], ['enter', block1.path], ['exit', block1.path], ['enter', block1.hash], ['exit', block1.hash], ['enter', block1.program], ['exit', block1.program], ['exit', block1], ['enter', block2], ['enter', block2.path], ['exit', block2.path], ['enter', block2.params[0]], ['exit', block2.params[0]], ['enter', block2.params[1]], ['exit', block2.params[1]], ['enter', block2.hash], ['enter', block2.hash.pairs[0]], ['enter', block2.hash.pairs[0].value], ['exit', block2.hash.pairs[0].value], ['exit', block2.hash.pairs[0]], ['enter', block2.hash.pairs[1]], ['enter', block2.hash.pairs[1].value], ['exit', block2.hash.pairs[1].value], ['exit', block2.hash.pairs[1]], ['exit', block2.hash], ['enter', block2.program], ['enter', block2.program.body[0]], ['exit', block2.program.body[0]], ['enter', block2.program.body[1]], ['exit', block2.program.body[1]], ['exit', block2.program], ['exit', block2], ['exit', ast]]);
});
test('Mustaches', function () {
    let ast = (0, _syntax.preprocess)(`{{mustache}}` + `{{mustache param1 param2 key1=value key2=value}}`);
    let must1 = ast.body[0];
    let must2 = ast.body[1];
    traversalEqual(ast, [['enter', ast], ['enter', must1], ['enter', must1.path], ['exit', must1.path], ['enter', must1.hash], ['exit', must1.hash], ['exit', must1], ['enter', must2], ['enter', must2.path], ['exit', must2.path], ['enter', must2.params[0]], ['exit', must2.params[0]], ['enter', must2.params[1]], ['exit', must2.params[1]], ['enter', must2.hash], ['enter', must2.hash.pairs[0]], ['enter', must2.hash.pairs[0].value], ['exit', must2.hash.pairs[0].value], ['exit', must2.hash.pairs[0]], ['enter', must2.hash.pairs[1]], ['enter', must2.hash.pairs[1].value], ['exit', must2.hash.pairs[1].value], ['exit', must2.hash.pairs[1]], ['exit', must2.hash], ['exit', must2], ['exit', ast]]);
});
test('Nested helpers', function () {
    let ast = (0, _syntax.preprocess)(`{{helper
    (helper param1 param2 key1=value key2=value)
    key1=(helper param)
    key2=(helper key=(helper param))
  }}`);
    let must = ast.body[0];
    let sexp = must.params[0];
    let nestedSexp1 = must.hash.pairs[0].value;
    let nestedSexp2 = must.hash.pairs[1].value;
    let deeplyNestedSexp = nestedSexp2.hash.pairs[0].value;
    traversalEqual(ast, [['enter', ast], ['enter', must], ['enter', must.path], ['exit', must.path], ['enter', sexp], ['enter', sexp.path], ['exit', sexp.path], ['enter', sexp.params[0]], ['exit', sexp.params[0]], ['enter', sexp.params[1]], ['exit', sexp.params[1]], ['enter', sexp.hash], ['enter', sexp.hash.pairs[0]], ['enter', sexp.hash.pairs[0].value], ['exit', sexp.hash.pairs[0].value], ['exit', sexp.hash.pairs[0]], ['enter', sexp.hash.pairs[1]], ['enter', sexp.hash.pairs[1].value], ['exit', sexp.hash.pairs[1].value], ['exit', sexp.hash.pairs[1]], ['exit', sexp.hash], ['exit', sexp], ['enter', must.hash], ['enter', must.hash.pairs[0]], ['enter', nestedSexp1], ['enter', nestedSexp1.path], ['exit', nestedSexp1.path], ['enter', nestedSexp1.params[0]], ['exit', nestedSexp1.params[0]], ['enter', nestedSexp1.hash], ['exit', nestedSexp1.hash], ['exit', nestedSexp1], ['exit', must.hash.pairs[0]], ['enter', must.hash.pairs[1]], ['enter', nestedSexp2], ['enter', nestedSexp2.path], ['exit', nestedSexp2.path], ['enter', nestedSexp2.hash], ['enter', nestedSexp2.hash.pairs[0]], ['enter', deeplyNestedSexp], ['enter', deeplyNestedSexp.path], ['exit', deeplyNestedSexp.path], ['enter', deeplyNestedSexp.params[0]], ['exit', deeplyNestedSexp.params[0]], ['enter', deeplyNestedSexp.hash], ['exit', deeplyNestedSexp.hash], ['exit', deeplyNestedSexp], ['exit', nestedSexp2.hash.pairs[0]], ['exit', nestedSexp2.hash], ['exit', nestedSexp2], ['exit', must.hash.pairs[1]], ['exit', must.hash], ['exit', must], ['exit', ast]]);
});
test('Comments', function () {
    let ast = (0, _syntax.preprocess)(`<!-- HTML comment -->{{!-- Handlebars comment --}}<div {{! Other Comment }}></div>`);
    let el = ast.body[2];
    traversalEqual(ast, [['enter', ast], ['enter', ast.body[0]], ['exit', ast.body[0]], ['enter', ast.body[1]], ['exit', ast.body[1]], ['enter', el], ['enter', el.comments[0]], ['exit', el.comments[0]], ['exit', el], ['exit', ast]]);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL0BnbGltbWVyL3N5bnRheC90ZXN0L3RyYXZlcnNhbC92aXNpdGluZy1ub2RlLXRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUVBLE1BQU0sRUFBRSxJQUFGLEtBQVcsS0FBakI7QUFFQSxTQUFTLGNBQVQsQ0FBd0IsSUFBeEIsRUFBd0MsaUJBQXhDLEVBQXdGO0FBQ3RGLFFBQUksa0JBQWlELEVBQXJEO0FBRUEsMEJBQVMsSUFBVCxFQUFlO0FBQ2IsYUFBSztBQUNILGtCQUFNLElBQU4sRUFBVTtBQUNSLGdDQUFnQixJQUFoQixDQUFxQixDQUFDLE9BQUQsRUFBVSxJQUFWLENBQXJCO0FBQ0QsYUFIRTtBQUlILGlCQUFLLElBQUwsRUFBUztBQUNQLGdDQUFnQixJQUFoQixDQUFxQixDQUFDLE1BQUQsRUFBUyxJQUFULENBQXJCO0FBQ0Q7QUFORTtBQURRLEtBQWY7QUFXQSxVQUFNLE1BQU4sQ0FBYSxTQUFiLENBQ0UsZ0JBQWdCLEdBQWhCLENBQW9CLEtBQUssR0FBRyxFQUFFLENBQUYsQ0FBSSxJQUFJLEVBQUUsQ0FBRixFQUFLLElBQUksRUFBN0MsQ0FERixFQUVFLGtCQUFrQixHQUFsQixDQUFzQixLQUFLLEdBQUcsRUFBRSxDQUFGLENBQUksSUFBSSxFQUFFLENBQUYsRUFBSyxJQUFJLEVBQS9DLENBRkY7QUFLQSxRQUFJLGFBQWEsSUFBakI7QUFFQSxTQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksZ0JBQWdCLE1BQXBDLEVBQTRDLEdBQTVDLEVBQWlEO0FBQy9DLFlBQUksZ0JBQWdCLENBQWhCLEVBQW1CLENBQW5CLE1BQTBCLGtCQUFrQixDQUFsQixFQUFxQixDQUFyQixDQUE5QixFQUF1RDtBQUNyRCx5QkFBYSxLQUFiO0FBQ0E7QUFDRDtBQUNGO0FBRUQsVUFBTSxNQUFOLENBQWEsRUFBYixDQUFnQixVQUFoQixFQUE0QixtQ0FBNUI7QUFDRDtBQUVELE1BQU0sTUFBTixD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QUMsTUFBRCxFQUFTLElBQVQsQ0FyRGtCLEVBc0RsQixDQUFDLE1BQUQsRUFBUyxHQUFULENBdERrQixDQUFwQjtBQXdERCxDQXBFRDtBQXNFQSxLQUFLLFVBQUwsRUFBaUIsWUFBQTtBQUNmLFFBQUksTUFBTSx3QkFDUixvRkFEUSxDQUFWO0FBR0EsUUFBSSxLQUFLLElBQUksSUFBSixDQUFTLENBQVQsQ0FBVDtBQUNBLG1CQUFlLEdBQWYsRUFBb0IsQ0FDbEIsQ0FBQyxPQUFELEVBQVUsR0FBVixDQURrQixFQUVsQixDQUFDLE9BQUQsRUFBVSxJQUFJLElBQUosQ0FBUyxDQUFULENBQVYsQ0FGa0IsRUFHbEIsQ0FBQyxNQUFELEVBQVMsSUFBSSxJQUFKLENBQVMsQ0FBVCxDQUFULENBSGtCLEVBSWxCLENBQUMsT0FBRCxFQUFVLElBQUksSUFBSixDQUFTLENBQVQsQ0FBVixDQUprQixFQUtsQixDQUFDLE1BQUQsRUFBUyxJQUFJLElBQUosQ0FBUyxDQUFULENBQVQsQ0FMa0IsRUFNbEIsQ0FBQyxPQUFELEVBQVUsRUFBVixDQU5rQixFQU9sQixDQUFDLE9BQUQsRUFBVSxHQUFHLFFBQUgsQ0FBWSxDQUFaLENBQVYsQ0FQa0IsRUFRbEIsQ0FBQyxNQUFELEVBQVMsR0FBRyxRQUFILENBQVksQ0FBWixDQUFULENBUmtCLEVBU2xCLENBQUMsTUFBRCxFQUFTLEVBQVQsQ0FUa0IsRUFVbEIsQ0FBQyxNQUFELEVBQVMsR0FBVCxDQVZrQixDQUFwQjtBQVlELENBakJEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJlcHJvY2VzcyBhcyBwYXJzZSwgdHJhdmVyc2UsIEFTVCB9IGZyb20gJ0BnbGltbWVyL3N5bnRheCc7XG5cbmNvbnN0IHsgdGVzdCB9ID0gUVVuaXQ7XG5cbmZ1bmN0aW9uIHRyYXZlcnNhbEVxdWFsKG5vZGU6IEFTVC5Ob2RlLCBleHBlY3RlZFRyYXZlcnNhbDogQXJyYXk8W3N0cmluZywgQVNULkJhc2VOb2RlXT4pIHtcbiAgbGV0IGFjdHVhbFRyYXZlcnNhbDogQXJyYXk8W3N0cmluZywgQVNULkJhc2VOb2RlXT4gPSBbXTtcblxuICB0cmF2ZXJzZShub2RlLCB7XG4gICAgQWxsOiB7XG4gICAgICBlbnRlcihub2RlKSB7XG4gICAgICAgIGFjdHVhbFRyYXZlcnNhbC5wdXNoKFsnZW50ZXInLCBub2RlXSk7XG4gICAgICB9LFxuICAgICAgZXhpdChub2RlKSB7XG4gICAgICAgIGFjdHVhbFRyYXZlcnNhbC5wdXNoKFsnZXhpdCcsIG5vZGVdKTtcbiAgICAgIH0sXG4gICAgfSxcbiAgfSk7XG5cbiAgUVVuaXQuYXNzZXJ0LmRlZXBFcXVhbChcbiAgICBhY3R1YWxUcmF2ZXJzYWwubWFwKGEgPT4gYCR7YVswXX0gJHthWzFdLnR5cGV9YCksXG4gICAgZXhwZWN0ZWRUcmF2ZXJzYWwubWFwKGEgPT4gYCR7YVswXX0gJHthWzFdLnR5cGV9YClcbiAgKTtcblxuICBsZXQgbm9kZXNFcXVhbCA9IHRydWU7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3R1YWxUcmF2ZXJzYWwubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYWN0dWFsVHJhdmVyc2FsW2ldWzFdICE9PSBleHBlY3RlZFRyYXZlcnNhbFtpXVsxXSkge1xuICAgICAgbm9kZXNFcXVhbCA9IGZhbHNlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgUVVuaXQuYXNzZXJ0Lm9rKG5vZGVzRXF1YWwsICdBY3R1YWwgbm9kZXMgbWF0Y2ggZXhwZWN0ZWQgbm9kZXMnKTtcbn1cblxuUVVuaXQubW9kdWxlKCdbZ2xpbW1lci1zeW50YXhdIFRyYXZlcnNhbCAtIHZpc2l0aW5nJyk7XG5cbnRlc3QoJ0VsZW1lbnRzIGFuZCBhdHRyaWJ1dGVzJywgZnVuY3Rpb24oKSB7XG4gIGxldCBhc3QgPSBwYXJzZShgPGRpdiBpZD1cImlkXCIgY2xhc3M9XCJsYXJnZSB7e2NsYXNzZXN9fVwiIHZhbHVlPXt7dmFsdWV9fT48Yj48L2I+PGI+PC9iPjwvZGl2PmApO1xuICBsZXQgZWwgPSBhc3QuYm9keVswXSBhcyBBU1QuRWxlbWVudE5vZGU7XG4gIGxldCBjb25jYXQgPSBlbC5hdHRyaWJ1dGVzWzFdLnZhbHVlIGFzIEFTVC5Db25jYXRTdGF0ZW1lbnQ7XG4gIGxldCBjb25jYXRNdXN0YWNoZSA9IGNvbmNhdC5wYXJ0c1sxXSBhcyBBU1QuTXVzdGFjaGVTdGF0ZW1lbnQ7XG4gIGxldCBhdHRyTXVzdGFjaGUgPSBlbC5hdHRyaWJ1dGVzWzJdLnZhbHVlIGFzIEFTVC5NdXN0YWNoZVN0YXRlbWVudDtcbiAgdHJhdmVyc2FsRXF1YWwoYXN0LCBbXG4gICAgWydlbnRlcicsIGFzdF0sXG4gICAgWydlbnRlcicsIGVsXSxcbiAgICBbJ2VudGVyJywgZWwuYXR0cmlidXRlc1swXV0sXG4gICAgWydlbnRlcicsIGVsLmF0dHJpYnV0ZXNbMF0udmFsdWVdLFxuICAgIFsnZXhpdCcsIGVsLmF0dHJpYnV0ZXNbMF0udmFsdWVdLFxuICAgIFsnZXhpdCcsIGVsLmF0dHJpYnV0ZXNbMF1dLFxuICAgIFsnZW50ZXInLCBlbC5hdHRyaWJ1dGVzWzFdXSxcbiAgICBbJ2VudGVyJywgY29uY2F0XSxcbiAgICBbJ2VudGVyJywgY29uY2F0LnBhcnRzWzBdXSxcbiAgICBbJ2V4aXQnLCBjb25jYXQucGFydHNbMF1dLFxuICAgIFsnZW50ZXInLCBjb25jYXRNdXN0YWNoZV0sXG4gICAgWydlbnRlcicsIGNvbmNhdE11c3RhY2hlLnBhdGhdLFxuICAgIFsnZXhpdCcsIGNvbmNhdE11c3RhY2hlLnBhdGhdLFxuICAgIFsnZW50ZXInLCBjb25jYXRNdXN0YWNoZS5oYXNoXSxcbiAgICBbJ2V4aXQnLCBjb25jYXRNdXN0YWNoZS5oYXNoXSxcbiAgICBbJ2V4aXQnLCBjb25jYXRNdXN0YWNoZV0sXG4gICAgWydleGl0JywgY29uY2F0XSxcbiAgICBbJ2V4aXQnLCBlbC5hdHRyaWJ1dGVzWzFdXSxcbiAgICBbJ2VudGVyJywgZWwuYXR0cmlidXRlc1syXV0sXG4gICAgWydlbnRlcicsIGF0dHJNdXN0YWNoZV0sXG4gICAgWydlbnRlcicsIGF0dHJNdXN0YWNoZS5wYXRoXSxcbiAgICBbJ2V4aXQnLCBhdHRyTXVzdGFjaGUucGF0aF0sXG4gICAgWydlbnRlcicsIGF0dHJNdXN0YWNoZS5oYXNoXSxcbiAgICBbJ2V4aXQnLCBhdHRyTXVzdGFjaGUuaGFzaF0sXG4gICAgWydleGl0JywgYXR0ck11c3RhY2hlXSxcbiAgICBbJ2V4aXQnLCBlbC5hdHRyaWJ1dGVzWzJdXSxcbiAgICBbJ2VudGVyJywgZWwuY2hpbGRyZW5bMF1dLFxuICAgIFsnZXhpdCcsIGVsLmNoaWxkcmVuWzBdXSxcbiAgICBbJ2VudGVyJywgZWwuY2hpbGRyZW5bMV1dLFxuICAgIFsnZXhpdCcsIGVsLmNoaWxkcmVuWzFdXSxcbiAgICBbJ2V4aXQnLCBlbF0sXG4gICAgWydleGl0JywgYXN0XSxcbiAgXSk7XG59KTtcblxudGVzdCgnRWxlbWVudCBtb2RpZmllcnMnLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGA8ZGl2IHt7bW9kaWZpZXJ9fXt7bW9kaWZpZXIgcGFyYW0xIHBhcmFtMiBrZXkxPXZhbHVlIGtleTI9dmFsdWV9fT48L2Rpdj5gKTtcbiAgbGV0IGVsID0gYXN0LmJvZHlbMF0gYXMgQVNULkVsZW1lbnROb2RlO1xuICB0cmF2ZXJzYWxFcXVhbChhc3QsIFtcbiAgICBbJ2VudGVyJywgYXN0XSxcbiAgICBbJ2VudGVyJywgZWxdLFxuICAgIFsnZW50ZXInLCBlbC5tb2RpZmllcnNbMF1dLFxuICAgIFsnZW50ZXInLCBlbC5tb2RpZmllcnNbMF0ucGF0aF0sXG4gICAgWydleGl0JywgZWwubW9kaWZpZXJzWzBdLnBhdGhdLFxuICAgIFsnZW50ZXInLCBlbC5tb2RpZmllcnNbMF0uaGFzaF0sXG4gICAgWydleGl0JywgZWwubW9kaWZpZXJzWzBdLmhhc2hdLFxuICAgIFsnZXhpdCcsIGVsLm1vZGlmaWVyc1swXV0sXG4gICAgWydlbnRlcicsIGVsLm1vZGlmaWVyc1sxXV0sXG4gICAgWydlbnRlcicsIGVsLm1vZGlmaWVyc1sxXS5wYXRoXSxcbiAgICBbJ2V4aXQnLCBlbC5tb2RpZmllcnNbMV0ucGF0aF0sXG4gICAgWydlbnRlcicsIGVsLm1vZGlmaWVyc1sxXS5wYXJhbXNbMF1dLFxuICAgIFsnZXhpdCcsIGVsLm1vZGlmaWVyc1sxXS5wYXJhbXNbMF1dLFxuICAgIFsnZW50ZXInLCBlbC5tb2RpZmllcnNbMV0ucGFyYW1zWzFdXSxcbiAgICBbJ2V4aXQnLCBlbC5tb2RpZmllcnNbMV0ucGFyYW1zWzFdXSxcbiAgICBbJ2VudGVyJywgZWwubW9kaWZpZXJzWzFdLmhhc2hdLFxuICAgIFsnZW50ZXInLCBlbC5tb2RpZmllcnNbMV0uaGFzaC5wYWlyc1swXV0sXG4gICAgWydlbnRlcicsIGVsLm1vZGlmaWVyc1sxXS5oYXNoLnBhaXJzWzBdLnZhbHVlXSxcbiAgICBbJ2V4aXQnLCBlbC5tb2RpZmllcnNbMV0uaGFzaC5wYWlyc1swXS52YWx1ZV0sXG4gICAgWydleGl0JywgZWwubW9kaWZpZXJzWzFdLmhhc2gucGFpcnNbMF1dLFxuICAgIFsnZW50ZXInLCBlbC5tb2RpZmllcnNbMV0uaGFzaC5wYWlyc1sxXV0sXG4gICAgWydlbnRlcicsIGVsLm1vZGlmaWVyc1sxXS5oYXNoLnBhaXJzWzFdLnZhbHVlXSxcbiAgICBbJ2V4aXQnLCBlbC5tb2RpZmllcnNbMV0uaGFzaC5wYWlyc1sxXS52YWx1ZV0sXG4gICAgWydleGl0JywgZWwubW9kaWZpZXJzWzFdLmhhc2gucGFpcnNbMV1dLFxuICAgIFsnZXhpdCcsIGVsLm1vZGlmaWVyc1sxXS5oYXNoXSxcbiAgICBbJ2V4aXQnLCBlbC5tb2RpZmllcnNbMV1dLFxuICAgIFsnZXhpdCcsIGVsXSxcbiAgICBbJ2V4aXQnLCBhc3RdLFxuICBdKTtcbn0pO1xuXG50ZXN0KCdCbG9ja3MnLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKFxuICAgIGB7eyNibG9ja319e3svYmxvY2t9fWAgK1xuICAgICAgYHt7I2Jsb2NrIHBhcmFtMSBwYXJhbTIga2V5MT12YWx1ZSBrZXkyPXZhbHVlfX08Yj48L2I+PGI+PC9iPnt7L2Jsb2NrfX1gXG4gICk7XG5cbiAgbGV0IGJsb2NrMSA9IGFzdC5ib2R5WzBdIGFzIEFTVC5CbG9ja1N0YXRlbWVudDtcbiAgbGV0IGJsb2NrMiA9IGFzdC5ib2R5WzFdIGFzIEFTVC5CbG9ja1N0YXRlbWVudDtcblxuICB0cmF2ZXJzYWxFcXVhbChhc3QsIFtcbiAgICBbJ2VudGVyJywgYXN0XSxcbiAgICBbJ2VudGVyJywgYmxvY2sxXSxcbiAgICBbJ2VudGVyJywgYmxvY2sxLnBhdGhdLFxuICAgIFsnZXhpdCcsIGJsb2NrMS5wYXRoXSxcbiAgICBbJ2VudGVyJywgYmxvY2sxLmhhc2hdLFxuICAgIFsnZXhpdCcsIGJsb2NrMS5oYXNoXSxcbiAgICBbJ2VudGVyJywgYmxvY2sxLnByb2dyYW1dLFxuICAgIFsnZXhpdCcsIGJsb2NrMS5wcm9ncmFtXSxcbiAgICBbJ2V4aXQnLCBibG9jazFdLFxuICAgIFsnZW50ZXInLCBibG9jazJdLFxuICAgIFsnZW50ZXInLCBibG9jazIucGF0aF0sXG4gICAgWydleGl0JywgYmxvY2syLnBhdGhdLFxuICAgIFsnZW50ZXInLCBibG9jazIucGFyYW1zWzBdXSxcbiAgICBbJ2V4aXQnLCBibG9jazIucGFyYW1zWzBdXSxcbiAgICBbJ2VudGVyJywgYmxvY2syLnBhcmFtc1sxXV0sXG4gICAgWydleGl0JywgYmxvY2syLnBhcmFtc1sxXV0sXG4gICAgWydlbnRlcicsIGJsb2NrMi5oYXNoXSxcbiAgICBbJ2VudGVyJywgYmxvY2syLmhhc2gucGFpcnNbMF1dLFxuICAgIFsnZW50ZXInLCBibG9jazIuaGFzaC5wYWlyc1swXS52YWx1ZV0sXG4gICAgWydleGl0JywgYmxvY2syLmhhc2gucGFpcnNbMF0udmFsdWVdLFxuICAgIFsnZXhpdCcsIGJsb2NrMi5oYXNoLnBhaXJzWzBdXSxcbiAgICBbJ2VudGVyJywgYmxvY2syLmhhc2gucGFpcnNbMV1dLFxuICAgIFsnZW50ZXInLCBibG9jazIuaGFzaC5wYWlyc1sxXS52YWx1ZV0sXG4gICAgWydleGl0JywgYmxvY2syLmhhc2gucGFpcnNbMV0udmFsdWVdLFxuICAgIFsnZXhpdCcsIGJsb2NrMi5oYXNoLnBhaXJzWzFdXSxcbiAgICBbJ2V4aXQnLCBibG9jazIuaGFzaF0sXG4gICAgWydlbnRlcicsIGJsb2NrMi5wcm9ncmFtXSxcbiAgICBbJ2VudGVyJywgYmxvY2syLnByb2dyYW0uYm9keVswXV0sXG4gICAgWydleGl0JywgYmxvY2syLnByb2dyYW0uYm9keVswXV0sXG4gICAgWydlbnRlcicsIGJsb2NrMi5wcm9ncmFtLmJvZHlbMV1dLFxuICAgIFsnZXhpdCcsIGJsb2NrMi5wcm9ncmFtLmJvZHlbMV1dLFxuICAgIFsnZXhpdCcsIGJsb2NrMi5wcm9ncmFtXSxcbiAgICBbJ2V4aXQnLCBibG9jazJdLFxuICAgIFsnZXhpdCcsIGFzdF0sXG4gIF0pO1xufSk7XG5cbnRlc3QoJ011c3RhY2hlcycsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoYHt7bXVzdGFjaGV9fWAgKyBge3ttdXN0YWNoZSBwYXJhbTEgcGFyYW0yIGtleTE9dmFsdWUga2V5Mj12YWx1ZX19YCk7XG5cbiAgbGV0IG11c3QxID0gYXN0LmJvZHlbMF0gYXMgQVNULk11c3RhY2hlU3RhdGVtZW50O1xuICBsZXQgbXVzdDIgPSBhc3QuYm9keVsxXSBhcyBBU1QuTXVzdGFjaGVTdGF0ZW1lbnQ7XG5cbiAgdHJhdmVyc2FsRXF1YWwoYXN0LCBbXG4gICAgWydlbnRlcicsIGFzdF0sXG4gICAgWydlbnRlcicsIG11c3QxXSxcbiAgICBbJ2VudGVyJywgbXVzdDEucGF0aF0sXG4gICAgWydleGl0JywgbXVzdDEucGF0aF0sXG4gICAgWydlbnRlcicsIG11c3QxLmhhc2hdLFxuICAgIFsnZXhpdCcsIG11c3QxLmhhc2hdLFxuICAgIFsnZXhpdCcsIG11c3QxXSxcbiAgICBbJ2VudGVyJywgbXVzdDJdLFxuICAgIFsnZW50ZXInLCBtdXN0Mi5wYXRoXSxcbiAgICBbJ2V4aXQnLCBtdXN0Mi5wYXRoXSxcbiAgICBbJ2VudGVyJywgbXVzdDIucGFyYW1zWzBdXSxcbiAgICBbJ2V4aXQnLCBtdXN0Mi5wYXJhbXNbMF1dLFxuICAgIFsnZW50ZXInLCBtdXN0Mi5wYXJhbXNbMV1dLFxuICAgIFsnZXhpdCcsIG11c3QyLnBhcmFtc1sxXV0sXG4gICAgWydlbnRlcicsIG11c3QyLmhhc2hdLFxuICAgIFsnZW50ZXInLCBtdXN0Mi5oYXNoLnBhaXJzWzBdXSxcbiAgICBbJ2VudGVyJywgbXVzdDIuaGFzaC5wYWlyc1swXS52YWx1ZV0sXG4gICAgWydleGl0JywgbXVzdDIuaGFzaC5wYWlyc1swXS52YWx1ZV0sXG4gICAgWydleGl0JywgbXVzdDIuaGFzaC5wYWlyc1swXV0sXG4gICAgWydlbnRlcicsIG11c3QyLmhhc2gucGFpcnNbMV1dLFxuICAgIFsnZW50ZXInLCBtdXN0Mi5oYXNoLnBhaXJzWzFdLnZhbHVlXSxcbiAgICBbJ2V4aXQnLCBtdXN0Mi5oYXNoLnBhaXJzWzFdLnZhbHVlXSxcbiAgICBbJ2V4aXQnLCBtdXN0Mi5oYXNoLnBhaXJzWzFdXSxcbiAgICBbJ2V4aXQnLCBtdXN0Mi5oYXNoXSxcbiAgICBbJ2V4aXQnLCBtdXN0Ml0sXG4gICAgWydleGl0JywgYXN0XSxcbiAgXSk7XG59KTtcblxudGVzdCgnTmVzdGVkIGhlbHBlcnMnLCBmdW5jdGlvbigpIHtcbiAgbGV0IGFzdCA9IHBhcnNlKGB7e2hlbHBlclxuICAgIChoZWxwZXIgcGFyYW0xIHBhcmFtMiBrZXkxPXZhbHVlIGtleTI9dmFsdWUpXG4gICAga2V5MT0oaGVscGVyIHBhcmFtKVxuICAgIGtleTI9KGhlbHBlciBrZXk9KGhlbHBlciBwYXJhbSkpXG4gIH19YCk7XG5cbiAgbGV0IG11c3QgPSBhc3QuYm9keVswXSBhcyBBU1QuTXVzdGFjaGVTdGF0ZW1lbnQ7XG4gIGxldCBzZXhwID0gbXVzdC5wYXJhbXNbMF0gYXMgQVNULlN1YkV4cHJlc3Npb247XG4gIGxldCBuZXN0ZWRTZXhwMSA9IG11c3QuaGFzaC5wYWlyc1swXS52YWx1ZSBhcyBBU1QuU3ViRXhwcmVzc2lvbjtcbiAgbGV0IG5lc3RlZFNleHAyID0gbXVzdC5oYXNoLnBhaXJzWzFdLnZhbHVlIGFzIEFTVC5TdWJFeHByZXNzaW9uO1xuICBsZXQgZGVlcGx5TmVzdGVkU2V4cCA9IG5lc3RlZFNleHAyLmhhc2gucGFpcnNbMF0udmFsdWUgYXMgQVNULlN1YkV4cHJlc3Npb247XG4gIHRyYXZlcnNhbEVxdWFsKGFzdCwgW1xuICAgIFsnZW50ZXInLCBhc3RdLFxuICAgIFsnZW50ZXInLCBtdXN0XSxcbiAgICBbJ2VudGVyJywgbXVzdC5wYXRoXSxcbiAgICBbJ2V4aXQnLCBtdXN0LnBhdGhdLFxuICAgIFsnZW50ZXInLCBzZXhwXSxcbiAgICBbJ2VudGVyJywgc2V4cC5wYXRoXSxcbiAgICBbJ2V4aXQnLCBzZXhwLnBhdGhdLFxuICAgIFsnZW50ZXInLCBzZXhwLnBhcmFtc1swXV0sXG4gICAgWydleGl0Jywgc2V4cC5wYXJhbXNbMF1dLFxuICAgIFsnZW50ZXInLCBzZXhwLnBhcmFtc1sxXV0sXG4gICAgWydleGl0Jywgc2V4cC5wYXJhbXNbMV1dLFxuICAgIFsnZW50ZXInLCBzZXhwLmhhc2hdLFxuICAgIFsnZW50ZXInLCBzZXhwLmhhc2gucGFpcnNbMF1dLFxuICAgIFsnZW50ZXInLCBzZXhwLmhhc2gucGFpcnNbMF0udmFsdWVdLFxuICAgIFsnZXhpdCcsIHNleHAuaGFzaC5wYWlyc1swXS52YWx1ZV0sXG4gICAgWydleGl0Jywgc2V4cC5oYXNoLnBhaXJzWzBdXSxcbiAgICBbJ2VudGVyJywgc2V4cC5oYXNoLnBhaXJzWzFdXSxcbiAgICBbJ2VudGVyJywgc2V4cC5oYXNoLnBhaXJzWzFdLnZhbHVlXSxcbiAgICBbJ2V4aXQnLCBzZXhwLmhhc2gucGFpcnNbMV0udmFsdWVdLFxuICAgIFsnZXhpdCcsIHNleHAuaGFzaC5wYWlyc1sxXV0sXG4gICAgWydleGl0Jywgc2V4cC5oYXNoXSxcbiAgICBbJ2V4aXQnLCBzZXhwXSxcbiAgICBbJ2VudGVyJywgbXVzdC5oYXNoXSxcbiAgICBbJ2VudGVyJywgbXVzdC5oYXNoLnBhaXJzWzBdXSxcbiAgICBbJ2VudGVyJywgbmVzdGVkU2V4cDFdLFxuICAgIFsnZW50ZXInLCBuZXN0ZWRTZXhwMS5wYXRoXSxcbiAgICBbJ2V4aXQnLCBuZXN0ZWRTZXhwMS5wYXRoXSxcbiAgICBbJ2VudGVyJywgbmVzdGVkU2V4cDEucGFyYW1zWzBdXSxcbiAgICBbJ2V4aXQnLCBuZXN0ZWRTZXhwMS5wYXJhbXNbMF1dLFxuICAgIFsnZW50ZXInLCBuZXN0ZWRTZXhwMS5oYXNoXSxcbiAgICBbJ2V4aXQnLCBuZXN0ZWRTZXhwMS5oYXNoXSxcbiAgICBbJ2V4aXQnLCBuZXN0ZWRTZXhwMV0sXG4gICAgWydleGl0JywgbXVzdC5oYXNoLnBhaXJzWzBdXSxcbiAgICBbJ2VudGVyJywgbXVzdC5oYXNoLnBhaXJzWzFdXSxcbiAgICBbJ2VudGVyJywgbmVzdGVkU2V4cDJdLFxuICAgIFsnZW50ZXInLCBuZXN0ZWRTZXhwMi5wYXRoXSxcbiAgICBbJ2V4aXQnLCBuZXN0ZWRTZXhwMi5wYXRoXSxcbiAgICBbJ2VudGVyJywgbmVzdGVkU2V4cDIuaGFzaF0sXG4gICAgWydlbnRlcicsIG5lc3RlZFNleHAyLmhhc2gucGFpcnNbMF1dLFxuICAgIFsnZW50ZXInLCBkZWVwbHlOZXN0ZWRTZXhwXSxcbiAgICBbJ2VudGVyJywgZGVlcGx5TmVzdGVkU2V4cC5wYXRoXSxcbiAgICBbJ2V4aXQnLCBkZWVwbHlOZXN0ZWRTZXhwLnBhdGhdLFxuICAgIFsnZW50ZXInLCBkZWVwbHlOZXN0ZWRTZXhwLnBhcmFtc1swXV0sXG4gICAgWydleGl0JywgZGVlcGx5TmVzdGVkU2V4cC5wYXJhbXNbMF1dLFxuICAgIFsnZW50ZXInLCBkZWVwbHlOZXN0ZWRTZXhwLmhhc2hdLFxuICAgIFsnZXhpdCcsIGRlZXBseU5lc3RlZFNleHAuaGFzaF0sXG4gICAgWydleGl0JywgZGVlcGx5TmVzdGVkU2V4cF0sXG4gICAgWydleGl0JywgbmVzdGVkU2V4cDIuaGFzaC5wYWlyc1swXV0sXG4gICAgWydleGl0JywgbmVzdGVkU2V4cDIuaGFzaF0sXG4gICAgWydleGl0JywgbmVzdGVkU2V4cDJdLFxuICAgIFsnZXhpdCcsIG11c3QuaGFzaC5wYWlyc1sxXV0sXG4gICAgWydleGl0JywgbXVzdC5oYXNoXSxcbiAgICBbJ2V4aXQnLCBtdXN0XSxcbiAgICBbJ2V4aXQnLCBhc3RdLFxuICBdKTtcbn0pO1xuXG50ZXN0KCdDb21tZW50cycsIGZ1bmN0aW9uKCkge1xuICBsZXQgYXN0ID0gcGFyc2UoXG4gICAgYDwhLS0gSFRNTCBjb21tZW50IC0tPnt7IS0tIEhhbmRsZWJhcnMgY29tbWVudCAtLX19PGRpdiB7eyEgT3RoZXIgQ29tbWVudCB9fT48L2Rpdj5gXG4gICk7XG4gIGxldCBlbCA9IGFzdC5ib2R5WzJdIGFzIEFTVC5FbGVtZW50Tm9kZTtcbiAgdHJhdmVyc2FsRXF1YWwoYXN0LCBbXG4gICAgWydlbnRlcicsIGFzdF0sXG4gICAgWydlbnRlcicsIGFzdC5ib2R5WzBdXSxcbiAgICBbJ2V4aXQnLCBhc3QuYm9keVswXV0sXG4gICAgWydlbnRlcicsIGFzdC5ib2R5WzFdXSxcbiAgICBbJ2V4aXQnLCBhc3QuYm9keVsxXV0sXG4gICAgWydlbnRlcicsIGVsXSxcbiAgICBbJ2VudGVyJywgZWwuY29tbWVudHNbMF1dLFxuICAgIFsnZXhpdCcsIGVsLmNvbW1lbnRzWzBdXSxcbiAgICBbJ2V4aXQnLCBlbF0sXG4gICAgWydleGl0JywgYXN0XSxcbiAgXSk7XG59KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=